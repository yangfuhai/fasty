<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>fasty</title>

    <script src="fasty.js"></script>

</head>

<body>
<script>

    // var testhtml = "a";
    // var testhtml = "{{~ for(item of array)}} xxx {{~end}}";
    // var testhtml = "{{~ for(item of array)}} xxx  {{~ for (newItem of item.xxx)}} xxxx  {{~end}} {{~end}}";
    // var testhtml = "{{~ for(item of array)}} xxx  {{~ for (newItem of item1.xxx)}} xxxx  {{~end}} {{~end}}";
    // var testhtml = "{{~ for(var x=0;x<100;i++)}}  xxx {{~end}}";
    // var testhtml = "{{~ for(var x=0,a=title;x<title.length;i++)}}  xxx{{a}} {{~end}}";
    // var testhtml = "{{~ var aaa = \"aaa\"}}";
    // var testhtml = "{{~ var aaa = \"aaa\"}}   {{~ for ( x of aaa)}}  {{aaa}}--{{x}}--{{end1}}--end {{~end}}";
    // var testhtml = "{{~ var aaa = \"aaa\"}}   {{~ for ( x of aaa)}}  {{aaa}}--{{x}}--{{end1}}--end {{~end}} {{x}} {{aaa}} {{bbb}}";
    // var testhtml = "{{~ var aaa = \"aaa\"}}   {{~ for ( x of aaa)}}  {{aaa}}--{{x}}--{{end1}}--end  {{~for (var i=0;i< x.length;i++)}}  {{x[i]}}  {{~end}} {{~end}} {{x}} {{aaa}} {{bbb}}";
    // var testhtml = "{{~ var aaa = \"aaa\"}}   {{~ for ( x of aaa)}}  {{aaa}}--{{x}}--{{end1}}--end  {{~for (var i=0;i< x.length;i++)}}  {{x[i]}} {{aaa}} {{bbb}} {{~end}} {{~end}} {{x}} {{aaa}} {{bbb}}";
    // var testhtml = "{{~if (a == b)}} xxx {{~end}}";
    // var testhtml = "{{~ var a = \"c\"}} {{~if (a == b)}} xxx {{~end}}";

    var testhtml = "{{~ var a = \"c\",b=\"c\"}} {{~if (a == b)}} xxx    {{~end}}{{title}}{{content}} {{sexString?(1)}} {{a?.b?.c?().d?}}";

    var data = {"title": "title test", "content": "content test..."};
    var fasty = new Fasty({
        share: {
            sexString: function (v) {
                console.log("sexString>>> invoked")
                return v === 0 ? '女' : '男';
            }
        }
    });

    console.log(fasty.render(testhtml, data))
</script>

</body>

</html>
